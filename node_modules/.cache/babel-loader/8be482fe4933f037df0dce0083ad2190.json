{"ast":null,"code":"var _jsxFileName = \"/Users/vaceslavstruckov/Downloads/project/src/Components/CurrencyTable.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport TableItems from \"./TableItems\";\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction CurrencyTable() {\n  _s();\n\n  const [resultData, setResultData] = useState({\n    rub: [],\n    usd: [],\n    eur: []\n  });\n  const [rateArr, setRateArr] = useState({\n    firstRub: [],\n    secondRub: [],\n    thirdRub: [],\n    firstEur: [],\n    secondEur: [],\n    thirdEur: [],\n    firstUsd: [],\n    secondUsd: [],\n    thirdUsd: []\n  });\n  const [titles] = React.useState([{\n    id: 1,\n    title: 'Pair name/market'\n  }, {\n    id: 2,\n    title: 'First'\n  }, {\n    id: 3,\n    title: 'Second'\n  }, {\n    id: 4,\n    title: 'Third'\n  }]);\n\n  const updateDataHelper = (first, second, third) => {\n    const rubArray = [first.RUB, second.RUB, third.RUB];\n    const eurArray = [first.EUR, second.EUR, third.EUR];\n    const usdArray = [first.USD, second.USD, third.USD];\n    setResultData(prevState => ({ ...prevState,\n      rub: rubArray,\n      eur: eurArray,\n      usd: usdArray\n    }));\n    setRateArr(prevState => ({ ...prevState,\n      firstRub: first.RUB / first.EUR,\n      secondRub: second.RUB,\n      thirdRub: third.RUB,\n      firstEur: first.EUR,\n      secondEur: second.EUR,\n      thirdEur: third.EUR,\n      firstUsd: first.USD,\n      secondUsd: second.USD,\n      thirdUsd: third.USD\n    }));\n  };\n\n  console.log(resultData);\n  useEffect(() => {\n    subscribe();\n  }, []);\n\n  const subscribe = async () => {\n    try {\n      const responseF = await axios.get('http://localhost:3010/api/v1/first/poll');\n      const responseS = await axios.get('http://localhost:3010/api/v1/second/poll');\n      const responseT = await axios.get('http://localhost:3010/api/v1/third/poll');\n      updateDataHelper(responseF.data.rates, responseS.data.rates, responseT.data.rates);\n      await subscribe();\n    } catch (e) {\n      setTimeout(() => {\n        subscribe();\n      }, 500);\n    }\n  };\n\n  console.log(rateArr.firstEur, 'first.EUR');\n  console.log(rateArr.firstRub, 'first.RUB');\n  console.log(rateArr.firstEur / rateArr.firstRub, '-');\n  return /*#__PURE__*/_jsxDEV(TableItems, {\n    resultData: resultData,\n    rateArr: rateArr,\n    titles: titles\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 91,\n    columnNumber: 5\n  }, this); // (\n  //   <div>\n  //     RUB\n  //     {resultData.rub.map((value) => (\n  //       <div key={value}>{value}</div>\n  //     ))}\n  //     USD\n  //     {resultData.usd.map((value) => (\n  //       <div key={value}>{value}</div>\n  //     ))}\n  //     EUR\n  //     {resultData.eur.map((value) => (\n  //       <div key={value}>{value}</div>\n  //     ))}\n  //   </div>\n  // );\n}\n\n_s(CurrencyTable, \"xQ5hTkMSR3vIuOfNXM4qUQuHkpY=\");\n\n_c = CurrencyTable;\nexport default CurrencyTable;\n\nvar _c;\n\n$RefreshReg$(_c, \"CurrencyTable\");","map":{"version":3,"sources":["/Users/vaceslavstruckov/Downloads/project/src/Components/CurrencyTable.js"],"names":["React","useEffect","useState","TableItems","axios","CurrencyTable","resultData","setResultData","rub","usd","eur","rateArr","setRateArr","firstRub","secondRub","thirdRub","firstEur","secondEur","thirdEur","firstUsd","secondUsd","thirdUsd","titles","id","title","updateDataHelper","first","second","third","rubArray","RUB","eurArray","EUR","usdArray","USD","prevState","console","log","subscribe","responseF","get","responseS","responseT","data","rates","e","setTimeout"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport TableItems from \"./TableItems\";\nimport axios from \"axios\";\n\nfunction CurrencyTable() {\n  const [resultData, setResultData] = useState({\n    rub: [],\n    usd: [],\n    eur: [],\n  });\n  const [rateArr, setRateArr] = useState(({\n    firstRub: [],\n    secondRub: [],\n    thirdRub: [],\n\n    firstEur: [],\n    secondEur: [],\n    thirdEur: [],\n\n    firstUsd: [],\n    secondUsd: [],\n    thirdUsd: []\n\n  }))\n  const [titles] = React.useState([\n    {id: 1, title: 'Pair name/market'},\n    {id: 2, title: 'First'},\n    {id: 3, title: 'Second'},\n    {id: 4, title: 'Third'},\n  ]);\n\n  const updateDataHelper = (first, second, third) => {\n    const rubArray = [first.RUB, second.RUB, third.RUB];\n    const eurArray = [first.EUR, second.EUR, third.EUR];\n    const usdArray = [first.USD, second.USD, third.USD];\n\n    setResultData((prevState) => ({\n      ...prevState,\n      rub: rubArray,\n      eur: eurArray,\n      usd: usdArray,\n    }));\n    setRateArr((prevState) => ({\n      ...prevState,\n      firstRub: first.RUB/first.EUR,\n      secondRub: second.RUB,\n      thirdRub: third.RUB,\n\n      firstEur: first.EUR,\n      secondEur: second.EUR,\n      thirdEur: third.EUR,\n\n      firstUsd: first.USD,\n      secondUsd: second.USD,\n      thirdUsd: third.USD\n\n      \n    }))\n  };\n\n  console.log(resultData)\n  useEffect(() => {\n    subscribe();\n  }, []);\n\n  const subscribe = async () => {\n    try {\n      const responseF = await axios.get('http://localhost:3010/api/v1/first/poll');\n      const responseS = await axios.get('http://localhost:3010/api/v1/second/poll');\n      const responseT = await axios.get('http://localhost:3010/api/v1/third/poll');\n\n\n      updateDataHelper(\n        responseF.data.rates,\n        responseS.data.rates,\n        responseT.data.rates\n      );\n\n      await subscribe();\n    } catch (e) {\n      setTimeout(() => {\n        subscribe();\n      }, 500);\n    }\n  };\n  console.log(rateArr.firstEur, 'first.EUR')\n  console.log(rateArr.firstRub, 'first.RUB')\n  console.log(rateArr.firstEur/rateArr.firstRub, '-')\n\n  return (\n    <TableItems\n    resultData={resultData}\n    rateArr={rateArr}\n    titles={titles}\n  />\n);\n  // (\n  //   <div>\n  //     RUB\n  //     {resultData.rub.map((value) => (\n  //       <div key={value}>{value}</div>\n  //     ))}\n  //     USD\n  //     {resultData.usd.map((value) => (\n  //       <div key={value}>{value}</div>\n  //     ))}\n  //     EUR\n  //     {resultData.eur.map((value) => (\n  //       <div key={value}>{value}</div>\n  //     ))}\n  //   </div>\n  // );\n}\n\nexport default CurrencyTable;\n"]},"metadata":{},"sourceType":"module"}